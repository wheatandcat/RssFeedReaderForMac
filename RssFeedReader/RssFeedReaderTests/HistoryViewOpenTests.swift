@testable import RssFeedReader
import Foundation
import Testing

struct HistoryViewOpenTests {
    // MARK: - isValidLink

    @Test func validHttpsURLIsValid() {
        #expect(HistoryView.isValidLink("https://example.com/article"))
    }

    @Test func validHttpURLIsValid() {
        #expect(HistoryView.isValidLink("http://example.com/page"))
    }

    @Test func emptyStringIsInvalid() {
        #expect(!HistoryView.isValidLink(""))
    }

    @Test func plainTextIsInvalid() {
        #expect(!HistoryView.isValidLink("not a url"))
    }

    @Test func nilStringIsInvalid() {
        // URL(string: "")が nilを返すパスを網羅
        #expect(!HistoryView.isValidLink(""))
    }

    @Test func urlWithQueryStringIsValid() {
        #expect(HistoryView.isValidLink("https://example.com/search?q=swift&page=1"))
    }

    @Test func urlWithFragmentIsValid() {
        #expect(HistoryView.isValidLink("https://example.com/article#section-1"))
    }
}
